const EncounterStatusPage = require('../../pageobjects/provider/encounterstatus.page')
const CareDeckEDSbjectivePage = require('../../pageobjects/provider/caredecksubjective.page')
const AllynetCommon = require('../../pageobjects/common/allynetcommon')

describe("ACD-989 Verify COMPOSE- Review Of Systems", function () {

    it('Verify the login', async () => {
        await AllynetCommon.login(process.env.PROVIDER_USERNAME, process.env.PROVIDER_PASSWORD)
    })

    it("Verify and Click Completed Encounter VIEW button", async function () {
        await EncounterStatusPage.clickAndVerifyViewButton()
    })

    it(`Verify Review Of System by Clicking on Checkbox 'Not Reviewed' `, async () => {
        await CareDeckEDSbjectivePage.clickOnSubjectiveExpandBtn()
        await CareDeckEDSbjectivePage.clickOnReviewComposeBtn()
        await CareDeckEDSbjectivePage.doCheckedNotReview("THE REVIEW OF SYSTEMS")
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.clickOnReviewOfSystemCloseBtn()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.ConstitutionalTxt.scrollIntoView()
        await browser.pause(3000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toHaveTextContaining("CONSTITUTIONAL")
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).toHaveTextContaining("EYES")
        await expect(CareDeckEDSbjectivePage.ENTTxt).toHaveTextContaining("EARS")
        await expect(CareDeckEDSbjectivePage.CardioTxt).toHaveTextContaining("CARDIO")
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).toHaveTextContaining("RESPIRATORY")
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).toHaveTextContaining("GASTROINTESTINAL")
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).toHaveTextContaining("GENITOURINARY")
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).toHaveTextContaining("MUSCULOSKELETAL")
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).toHaveTextContaining("DERMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).toHaveTextContaining("NEUROLOGICAL")
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).toHaveTextContaining("PSYCHIATRIC")
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).toHaveTextContaining("ENDOCRINOLOGIC")
        await expect(CareDeckEDSbjectivePage.HematologicTxt).toHaveTextContaining("HEMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.AllergicTxt).toHaveTextContaining("ALLERGIC")

        await CareDeckEDSbjectivePage.doDeleteCheckedNotReview()
        await browser.pause(2000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.ENTTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.CardioTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.HematologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.AllergicTxt).not.toBeDisplayed()
        await CareDeckEDSbjectivePage.clickOnSubjetiveMinimizeBtn()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.clickOnSubjectiveExpandBtn()
        await browser.pause(5000)
    })

    it('Verify Review Of System by Clicking on PLUSE button', async () => {
        await CareDeckEDSbjectivePage.doReviewOfSystemByPluseButton()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.ConstitutionalTxt.scrollIntoView()
        await browser.pause(3000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toHaveTextContaining("CONSTITUTIONAL")
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).toHaveTextContaining("EYES")
        await expect(CareDeckEDSbjectivePage.ENTTxt).toHaveTextContaining("EARS")
        await expect(CareDeckEDSbjectivePage.CardioTxt).toHaveTextContaining("CARDIO")
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).toHaveTextContaining("RESPIRATORY")
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).toHaveTextContaining("GASTROINTESTINAL")
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).toHaveTextContaining("GENITOURINARY")
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).toHaveTextContaining("MUSCULOSKELETAL")
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).toHaveTextContaining("DERMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).toHaveTextContaining("NEUROLOGICAL")
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).toHaveTextContaining("PSYCHIATRIC")
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).toHaveTextContaining("ENDOCRINOLOGIC")
        await expect(CareDeckEDSbjectivePage.HematologicTxt).toHaveTextContaining("HEMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.AllergicTxt).toHaveTextContaining("ALLERGIC")

        await CareDeckEDSbjectivePage.doDeleteCheckedNotReview()
        await browser.pause(2000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.ENTTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.CardioTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.HematologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.AllergicTxt).not.toBeDisplayed()
        await CareDeckEDSbjectivePage.clickOnSubjetiveMinimizeBtn()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.clickOnSubjectiveExpandBtn()
        await browser.pause(5000)
    })

    it('Verify Review Of System by Clicking on MINUS button', async () => {
        await CareDeckEDSbjectivePage.doReviewOfSystemByMinusButton()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.ConstitutionalTxt.scrollIntoView()
        await browser.pause(3000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toHaveTextContaining("CONSTITUTIONAL")
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).toHaveTextContaining("EYES")
        await expect(CareDeckEDSbjectivePage.ENTTxt).toHaveTextContaining("EARS")
        await expect(CareDeckEDSbjectivePage.CardioTxt).toHaveTextContaining("CARDIO")
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).toHaveTextContaining("RESPIRATORY")
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).toHaveTextContaining("GASTROINTESTINAL")
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).toHaveTextContaining("GENITOURINARY")
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).toHaveTextContaining("MUSCULOSKELETAL")
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).toHaveTextContaining("DERMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).toHaveTextContaining("NEUROLOGICAL")
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).toHaveTextContaining("PSYCHIATRIC")
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).toHaveTextContaining("ENDOCRINOLOGIC")
        await expect(CareDeckEDSbjectivePage.HematologicTxt).toHaveTextContaining("HEMATOLOGIC")
        await expect(CareDeckEDSbjectivePage.AllergicTxt).toHaveTextContaining("ALLERGIC")

        await CareDeckEDSbjectivePage.doDeleteCheckedNotReview()
        await browser.pause(2000)
        await expect(CareDeckEDSbjectivePage.ConstitutionalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EyesTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.ENTTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.CardioTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.RespiratoryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GastrointestinalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.GenitourinaryTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.MusculoskeletalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.DermatologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.NeurologicalTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.PsychiatricTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.EndocrinologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.HematologicTxt).not.toBeDisplayed()
        await expect(CareDeckEDSbjectivePage.AllergicTxt).not.toBeDisplayed()
        await CareDeckEDSbjectivePage.clickOnSubjetiveMinimizeBtn()
        await browser.pause(2000)
        await CareDeckEDSbjectivePage.clickOnSubjectiveExpandBtn()
        await browser.pause(5000)
    })

    it('Should logout if logged in', async () => {
        await AllynetCommon.logout()
      })
})
